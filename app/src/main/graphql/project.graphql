query FetchProjectsPage($first: Int = 15, $cursor: String) {
  projects(first: $first, after:$cursor) {
    nodes {
      ... fullProject
    }
  }
}

query FetchProjects($first: Int = 15, $sort: ProjectSort, $backed: Boolean, $recommended: Boolean, $categoryId: String) {
  projects(first: $first, sort:$sort, backed:$backed, recommended:$recommended, categoryId: $categoryId) {
    nodes {
      ... fullProject
    }
  }
}

query FetchProject($slug: String!) {
  project(slug: $slug) {
    ... fullProject
  }
}

query ProjectCreatorDetails($slug: String!) {
  project(slug: $slug) {
    creator {
      backingsCount
      launchedProjects {
        totalCount
      }
    }
  }
}

query GetProjectBacking($slug: String!) {
  project(slug: $slug) {
    id
    backing {
      ... backing
    }
  }
}

query GetProjectAddOns($slug: String!, $locationId: ID!) {
  project(slug: $slug) {
    addOns {
      nodes {
        shippingRulesExpanded(forLocation: $locationId) {
          nodes {
            ... shippingRule
          }
        }
        ... reward
        items {
          ... rewardItems
        }
      }
    }
  }
}

mutation CreateComment($body: String!, $commentableId: ID!, $parentId: ID, $clientMutationId: String) {
  createComment(input: {
    body: $body,
    commentableId: $commentableId,
    parentId: $parentId,
    clientMutationId: $clientMutationId
  }) {
    comment {
      ...comment
    }
  }
}

query GetProjectComments($slug: String!, $limit: Int!, $cursor: String) {
  project(slug: $slug) {
    id
    collaborators {
      edges {
        node {
          id
          name
        }
      }
    }
    comments(first: $limit, after: $cursor) {
      edges {
        cursor
        node {
          ...comment
        }
      }
      pageInfo {
        ...pageInfo
      }
      totalCount
    }
  }
}

query GetProjectUpdateComments($id: ID!,$limit: Int!, $cursor: String){
  post(id: $id)  {
    id
    ...freeformPost
  }
}
